<div layout layout-align="center" layout-padding>

	<div flex>
		<form>
			<div layout layout-align="center" layout-padding>
				
				<div flex="30">
					<md-input-container class="md-icon-float md-block" flex-gt-sm="">
						<label>URL</label>
						<md-icon><i class="material-icons">http</i></md-icon>
						<input ng-model="crawl.url" name="url">
					</md-input-container>

				</div>

				<div>
					<md-button class="md-raised" ng-click="crawl.crawl()" type="submit">CRAWL</md-button>
				</div>

				<div flex="30">
					<md-input-container class="md-icon-float md-block" flex-gt-sm="">
						<label>EMAIL</label>
						<md-icon><i class="material-icons">email</i></md-icon>
						<input ng-model="crawl.email" name="email">
					</md-input-container>

				</div>

				<div>
					<md-button class="md-raised" ng-click="crawl.haveIBeenPwned()" type="submit">HAVEIBEENPWNED</md-button>
				</div>

			</div>
		</form>
		<div md-whiteframe="2" layout layout-padding>
			<div flex="50" ng-if="crawl.url">
				<h3>CRAWL du site {{crawl.url}}</h3>
				<div>
					<h4>HEADERS</h4>
					<table class="border-table">
						<tr ng-repeat="(key,value) in crawl.crawlResult.headers">
							<td> {{key}} </td>
							<td> {{value}} </td>
						</tr>
					</table>
				</div>

				<div>
					<h4>REQUEST</h4><table>
					<table class="border-table">
						<tr ng-repeat="(key,value) in crawl.crawlResult.request">
							<td> {{key}} </td>
							<td ng-if="key=='uri'">
								<table>
									<tr ng-repeat="(key2,value2) in value">
										<td> {{key2}} </td>
										<td> {{value2}} </td>
									</tr>
								</table>
							</td>
							<td ng-if="key!='uri'"> {{value}} </td>
						</tr>
					</table>
				</div>
			</div>
			<div flex="50" ng-if="crawl.email">
				<div>
					<h3>HAVEIBEENPWNED de l'e-mail {{crawl.email}}</h3>
					<table ng-repeat="item in crawl.haveIBeenPwnedResult" class="border-table">
						<tr ng-repeat="(key,value) in item">
							<td> {{key}} </td>
							<td> {{value}} </td>
						</tr>
					</table>
				</div>
			</div>
		</div>

	</div>

</div>